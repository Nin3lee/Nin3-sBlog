---
import BaseLayout from "./BaseLayout.astro";
import { tagColors, defaultTagColor } from "../styles/tag";
import { Image } from "astro:assets";

const { frontmatter } = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title}>
    <div class="w-96 md:w-[45rem] mx-auto flex flex-col my-9 gap-3">
        <!-- Header -->
        <div class="flex flex-col mx-auto gap-3 mb-8">
            <Image src={frontmatter.cover} alt="post's cover" />
            <h1 class="text-xl">{frontmatter.title}</h1>
            <h3 class="text-gray-700">
                {frontmatter.pubDate.toString().slice(0, 15)}
            </h3>
        </div>
        <!-- Post content -->
        <div>
            <slot />
        </div>
        <!-- Footer -->
        <hr style="border-style: dashed; border-color: #DFE1E6;" />
        <div class="grid grid-cols-3 md:grid-cols-4 gap-3">
            {
                frontmatter.tags.map((tag: string) => (
                    <a
                        href={`/tags/${tag}`}
                        class="rounded-full hover:scale-95 duration-200 shadow"
                        style={`background-color: ${tagColors[tag] || defaultTagColor}`}
                    >
                        <div class="my-2 mx-4 flex justify-between items-center">
                            <p class="text-white text-sm">{tag}</p>
                        </div>
                    </a>
                ))
            }
        </div>
    </div>
</BaseLayout>
