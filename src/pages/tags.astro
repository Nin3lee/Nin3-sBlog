---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const pageTitle = "Tag";
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---

<div class="min-h-screen flex flex-col">
    <BaseLayout pageTitle=`Nin3's ${pageTitle}`>
        <div class="w-96 md:w-[45rem] lg:w-[60rem] mx-auto flex flex-col my-9">
            <p class="text-2xl">{pageTitle}</p>
            <main class="grid grid-cols-2 md:grid-cols-3 gap-6">
                {
                    tags.map((tag) => (
                        <section class="aspect-square bg-slate-100">
                            <a href={`/tags/${tag}`}>{tag}</a>
                        </section>
                    ))
                }
            </main>
        </div>
    </BaseLayout>
</div>
