---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const pageTitle = "Tag";
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---

<div class="min-h-screen flex flex-col">
    <BaseLayout pageTitle=`Nin3's ${pageTitle}`>
        <div class="w-96 md:w-[45rem] lg:w-[60rem] mx-auto flex flex-col my-9">
            <p class="text-2xl mb-3">{pageTitle}</p>
            <main class="grid grid-cols-2 md:grid-cols-4 gap-3">
                {
                    tags.map((tag) => (
                        <a
                            href={`/tags/${tag}`}
                            class="bg-slate-100 rounded-full hover:scale-95 duration-200"
                        >
                            <div class="my-3 mx-4">#{tag}</div>
                        </a>
                    ))
                }
            </main>
        </div>
    </BaseLayout>
</div>
